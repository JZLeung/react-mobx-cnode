{"version":3,"sources":["components/RightBox/right-box.module.scss","components/Header/index.jsx","components/IconText/index.jsx","components/Pagination/index.jsx","components/TopicList/index.jsx","views/Home/TabBar.jsx","components/RightBox/index.jsx","views/Home/index.jsx","utils/common.js","components/Topic/index.jsx","components/CommentList/index.jsx","views/Topic/index.jsx","views/User/index.jsx","App.jsx","request.js","stores/authStore.js","stores/topicStore.js","stores/index.js","stores/userStore.js","index.js","views/Home/Home.module.scss","components/Header/header.module.scss","components/Pagination/Pagination.module.scss","components/Topic/topic.module.scss"],"names":["module","exports","right-box","HeaderComponent","inject","observer","react_default","a","createElement","layout","Header","className","style","header","NavLink","to","logo","src","alt","href","Component","IconText","_ref","type","text","icon","marginRight","Pagination","loading","prevPage","nextPage","current","es_button","shape","onClick","size","Meta","Card","Topic","topic","list","Item","avatar","author","avatar_url","title","Link","concat","id","description","loginname","Loading","card","width","marginTop","skeleton","active","TopicList","_ref2","topics","getTagName","length","itemLayout","dataSource","renderItem","item","TopicList_Loading","key","actions","good","tag","color","tab","components_IconText","visit_count","reply_count","TopicList_Topic","components_Pagination","console","log","NavBar","props","tabs","handleClick","tabbars","map","join","name","UserInfo","user","_ref$title","extra","score","githubUsername","target","rel","RightBox","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleOk","token","input","value","setState","error","auth","checkAccessToken","then","res","login","showDialog","catch","handleCancel","openDialog","handleCloseAlert","state","_this2","_this$props$loading","RightBox_UserInfo","modal","visible","onOk","onCancel","es_alert","message","closable","banner","afterClose","placeholder","ref","HomePage","tagkey","changeTab","setTab","getTopics","setPrevPage","setPage","setNextPage","_this$props","row","gutter","col","sm","xs","TabBar","components_TopicList","page","components_RightBox","formatDate","date","format","arguments","undefined","dayjs","styleObj","create_at","dangerouslySetInnerHTML","__html","content","CommentItem","comment","divider","es_comment","datetime","es_divider","margin","CommentList","comments","bordered","index","CommentList_CommentItem","TopicPage","history","push","params","match","getTopic","getUser","_this$props$topic","components_Topic","components_CommentList","replies","UserPage","withRouter","userInfos","User_Meta","recent_topics","recent_replies","Content","Layout","Footer","App","minHeight","Switch","Route","path","component","User","Home","strict","Redirect","textAlign","service","axios","create","baseURL","timeout","interceptors","request","use","config","authStore","url","indexOf","Promise","reject","response","data","responseBody","get","apply","post","src_request","info","messagecount","messages","verify","accesstoken","limit","detail","topicId","newTopic","Agent","setToken","observable","action","topicStore","find","one","step","resolve","stores","render","rootElement","document","getElementById","ReactDOM","index_module","HashRouter","src_App","window","localStorage","getItem","home-page","tabbar-item","is-active","topic-list","header-left","header-right","header-link","page-button","topic-title","topic-infos"],"mappings":"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","file":"static/js/main.2d39ef01.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"right-box\":\"right-box_right-box__23xv3\"};","import React, { Component } from 'react'\nimport { inject, observer } from 'mobx-react'\n\nimport { NavLink } from 'react-router-dom'\n\nimport { Layout } from 'antd'\n\nimport style from './header.module.scss'\n\n@inject('topic')\n@observer\nclass HeaderComponent extends Component {\n    \n    render() {\n        return (\n            <Layout.Header >\n                <header className={ style.header }>\n                    <div className={ style[ 'header-left' ] }>\n                        <NavLink to='/'>\n                            <img className={ style.logo } src=\"http://static2.cnodejs.org/public/images/cnodejs_light.svg\" alt=\"\"/>\n                        </NavLink>\n                    </div>\n                    <div className={ style[ 'header-right' ] }>\n                        <a href=\"/\" className={ style[ 'header-link' ] }>首页</a>\n                        <a href=\"https://cnodejs.org/api\" className={ style[ 'header-link' ] }>API</a>\n                    </div>\n                </header>\n            </Layout.Header>\n        )\n    }\n}\n\nexport default HeaderComponent\n","import React from 'react'\nimport { Icon } from 'antd'\n\nimport PropTypes from 'prop-types'\n\nconst IconText = ({ type, text }) => (\n    <span>\n        <Icon type={ type } style={ { marginRight: 8 } } />\n        {text}\n    </span>\n)\n\nIconText.propTypes = {\n    type: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired\n}\n\nexport default IconText\n","import React from 'react'\n\nimport { Button } from 'antd'\n\nimport style from './Pagination.module.scss'\n\nconst Pagination = ({ loading, prevPage, nextPage, current }) => {\n    return (\n        <div className={ style.Pagination }>\n            {current > 1 && <Button className={ style[ 'page-button' ] } type=\"primary\" shape=\"circle\" loading={ loading } onClick={ prevPage } icon=\"arrow-left\" size='large' />}\n            <Button className={ style[ 'page-button' ] } type=\"primary\" shape=\"circle\" loading={ loading } onClick={ nextPage } icon=\"arrow-right\" size='large' />\n        </div>\n    )\n}\n\nexport default Pagination\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { List, Skeleton, Card, Avatar, Tag } from 'antd'\nimport IconText from '../IconText/index'\n\nimport Pagination from 'components/Pagination/index'\n\nimport PropTypes from 'prop-types'\n\nconst { Meta } = Card\n\nconst Topic = ({ topic }) => (\n    <List.Item.Meta\n        avatar={ <Avatar src={ topic.author.avatar_url } /> }\n        title={ <Link to={ `/topic/${ topic.id }` } >{topic.title}</Link> }\n        description={ <Link to={ `/user/@${ topic.author.loginname }` }>{topic.author.loginname}</Link> }\n    />\n)\n\nconst Loading = () => (\n    <Card\n        style={ { width: '100%', marginTop: 16 } }\n    >\n        <Skeleton loading={ true } avatar active></Skeleton>\n    </Card>\n)\n\nconst TopicList = ({ topics, getTagName, loading, prevPage, nextPage, current }) => (\n    <div className=\"topic-list\">\n        {\n            topics.length > 0 ? (\n                <List\n                    itemLayout=\"vertical\"\n                    size=\"large\"\n                    dataSource={ topics }\n                    renderItem={ item => (\n                        loading ? <List.Item><Loading /></List.Item> : <List.Item\n                            key={ item.title }\n                            actions={ [\n                                item.good ? <Tag color='#87d068'>精华</Tag> : <Tag color='#108ee9'>{getTagName(item.tab)}</Tag>,\n                                <IconText type=\"eye-o\" text={ `${ item.visit_count }` } />,\n                                <IconText type=\"message\" text={ `${ item.reply_count }` } />\n                            ] }\n                        >\n                            <Topic topic={ item } />\n                        </List.Item>\n                    ) }\n                />\n            ) : (\n                <List>\n                    <List.Item>\n                        <Card\n                            style={ { width: '100%', marginTop: 16 } }\n                        >\n                            <Skeleton loading={ true } avatar active>\n                                <Meta\n                                    avatar={ <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" /> }\n                                    title=\"Card title\"\n                                    description=\"This is the description\"\n                                />\n                            </Skeleton>\n                        </Card>\n                    </List.Item>\n                </List>\n            )\n            \n        }\n\n        { current && <Pagination { ...{ loading, nextPage, prevPage, current } } /> }\n    </div>\n)\nconst topicPropTypes = PropTypes.shape({\n    author: PropTypes.shape({\n        avatar_url: PropTypes.string.isRequired,\n        loginname: PropTypes.string.isRequired\n    }),\n    title: PropTypes.string.isRequired,\n    content: PropTypes.string,\n    tab: PropTypes.string,\n    id: PropTypes.string.isRequired,\n    create_at: PropTypes.string.isRequired,\n    reply_count: PropTypes.number.isRequired,\n    visit_count: PropTypes.number.isRequired,\n    good: PropTypes.bool.isRequired,\n})\n\nTopic.propTypes = {\n    topic: topicPropTypes.isRequired\n}\n\nTopicList.propTypes = {\n    topics: PropTypes.arrayOf(topicPropTypes).isRequired,\n    getTagName: PropTypes.func.isRequired\n}\n\nexport default TopicList\n","import React from 'react'\n\nimport style from './Home.module.scss'\nconsole.log(style)\nconst NavBar = (props) => {\n    const { tabs, current, handleClick } = props\n    return (\n        <div className={ style.tabbars }>\n            {\n                tabs.map(tab => (\n                    <span onClick={ () => handleClick(tab) } className={ [ style[ 'tabbar-item' ], current === tab.key ? style[ 'is-active' ] : '' ].join(' ') } key={ tab.key }>{tab.name}</span>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default NavBar\n","import React, { Component } from 'react'\n\nimport { Card, Avatar, Button, Skeleton, Modal, Input, Alert } from 'antd'\n\nimport { Link } from 'react-router-dom'\nimport style from './right-box.module.scss'\nimport { observer } from 'mobx-react'\n\nconst UserInfo = ({ user, title = '' }) => (\n    user ? <Card\n        title={ title }\n        extra={ <Link to={ `/user/@${ user.loginname }` }>More</Link> }\n        style={ { width: '100%' } }\n    >\n        <p>\n            <span>\n                <Avatar shape=\"square\" src={ user.avatar_url } />\n            </span>\n            {user.loginname}\n        </p>\n        <p>\n            积分： {user.score}\n        </p>\n        <p>\n            {user.githubUsername && <a href={ `https://github.com/${ user.githubUsername }` } target=\"_blank\" rel=\"noopener noreferrer\"><Button shape=\"circle\" icon=\"github\"></Button></a>}\n        </p>\n    </Card> : <Skeleton loading={ true } active avatar></Skeleton>\n)\n\n@observer\nclass RightBox extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            showDialog: false,\n            error: ''\n        }\n    }\n\n    handleOk = () => {\n        const token = this.input.input.value\n        if (!token) {\n            this.setState({\n                error: '请输入你的 AccessToken'\n            })\n            return false\n        }\n        this.props.auth.checkAccessToken(token).then(res => {\n            // console.log(res)\n            this.props.auth.login(token)\n            this.setState({\n                showDialog: false,\n                error: ''\n            })\n        }).catch(() => {\n            // console.error(err)\n            this.setState({\n                error: 'AccessToken 错误'\n            })\n        })\n    }\n\n    handleCancel = () => {\n        this.setState({\n            showDialog: false\n        })\n    }\n\n    openDialog = () => {\n        this.setState({\n            showDialog: true\n        })\n    }\n\n    handleCloseAlert = () => {\n        this.setState({\n            error: ''\n        })\n    }\n\n    render() {\n\n        const { loading = false } = this.props\n        const user = (this.props.auth && this.props.auth.user) || this.props.user.user\n        const { error } = this.state\n        console.log('Right box', user)\n        return (\n            <div className={ style[ 'right-box' ] }>\n                {\n                    loading ? <Card><Skeleton loading={ true } active avatar></Skeleton></Card>\n                    : user ? <UserInfo user={ user } title='用户信息' />\n                    : <Card title=\"CNode 社区\" style={ { width: '100%' } }>\n                        <p>尚未登录，请通过输入 AccessToken 进行登录</p>\n                        <Modal\n                            title=\"输入 AccessToken\"\n                            visible={ this.state.showDialog }\n                            onOk={ this.handleOk }\n                            onCancel={ this.handleCancel }\n                        >\n                            {\n                                error ? <Alert\n                                    message={ error }\n                                    type=\"error\"\n                                    closable\n                                    banner\n                                    afterClose={ this.handleCloseAlert }\n                                />\n                                : null}\n                            <Input placeholder=\"请输入你的 AccessToken\" ref={ input => (this.input = input) } />\n                        </Modal>\n                        <Button type=\"primary\" onClick={ this.openDialog }>AccessToken 登录</Button>\n                    </Card>\n                }\n\n                {/* ADs */}\n            </div>\n        )\n    }\n}\n\nexport default RightBox\n","import React, { Component } from 'react'\n\nimport { inject, observer } from 'mobx-react'\n\nimport { Row, Col, Card } from 'antd'\n\nimport TopicList from 'components/TopicList/index'\nimport TabBar from './TabBar'\nimport RightBox from 'components/RightBox/index'\n\nimport style from './Home.module.scss'\n\n@inject('topic', 'user', 'auth')\n@observer\nclass HomePage extends Component {\n    componentDidMount() {\n        this.props.topic.getTopics()\n    }\n\n    getTagName = (tagkey) => {\n        return this.props.topic.getTagName(tagkey)\n    }\n\n    changeTab = (tab) => {\n        this.props.topic.setTab(tab)\n        this.props.topic.getTopics()\n    }\n\n    setPrevPage = () => {\n        this.props.topic.setPage(-1)\n    }\n    setNextPage = () => {\n        this.props.topic.setPage(1)\n    }\n\n    render() {\n        const { topic, user, auth } = this.props\n        return (\n            <div className={ style[ 'home-page' ] }>\n                <Row gutter={ 16 }>\n                    <Col sm={ 18 } xs={ 24 }>\n                        <Card extra={ <TabBar tabs={ topic.tabs } current={ topic.tab } handleClick={ this.changeTab } /> }>\n                            <div className={ style[ 'topic-list' ] }>\n                                <TopicList topics={ topic.topics } current={ topic.page } loading={ topic.loading } getTagName={ this.getTagName } nextPage={ this.setNextPage } prevPage={ this.setPrevPage } />\n                            </div>\n                        </Card>\n                    \n                    </Col>\n                    <Col sm={ 6 } xs={ 24 }>\n                        <RightBox user={ user } auth={ auth }/>\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n\nexport default HomePage\n","import dayjs from 'dayjs'\n\nexport const formatDate = (date, format='YYYY-MM-DD HH:mm') => dayjs(date).format(format)\n","import React from 'react'\n\nimport { Card, Icon, Tag, Avatar } from 'antd'\n\nimport style from './topic.module.scss'\n\nimport { formatDate } from '../../utils/common'\n\nconst Topic = ({ topic, getTagName, changeTab }) => {\n\n    const styleObj = { width: '100%' }\n\n    const title = topic ? (\n        <div>\n\n            <h4 className={ style[ 'topic-title' ] }>{topic.title}</h4>\n\n            <div className={ style[ 'topic-infos' ] }>\n                <span>\n                    <Avatar src={ topic.author.avatar_url } />\n                    {topic.author.loginname}\n                </span>\n                <span>\n                    {topic.good ? <Tag color='#87d068' onClick={ () => changeTab(topic.tab) }>精华</Tag> : <Tag color='#108ee9' onClick={ () => changeTab(topic.tab) }>{getTagName(topic.tab)}</Tag>}\n                </span>\n                <span>\n                    <Icon type=\"eye\" />\n                    {topic.visit_count}\n                </span>\n                <span>\n                    <Icon type=\"clock-circle\" />\n                    {formatDate(topic.create_at)}\n                </span>\n            </div>\n        </div>\n    ) : null\n    return (\n        topic ? <Card className={ style.topic } style={ { styleObj } } title={ title } >\n\n            <div dangerouslySetInnerHTML={ { __html: topic.content } }></div>\n\n        </Card> : <Card style={ styleObj } loading={ true } />\n    )\n}\n\nexport default Topic\n","import React from 'react'\n\nimport { Card, List, Avatar, Comment, Divider } from 'antd'\nimport { formatDate } from '../../utils/common'\n\nconst CommentItem = ({ comment,divider }) => (\n    <Comment \n        author={ comment.author.loginname } \n        avatar={ (\n            <Avatar src={ comment.author.avatar_url } alt={ comment.author.loginname }/>\n        ) }\n        content={ <div dangerouslySetInnerHTML={ { __html: comment.content } }></div> }\n        datetime={ formatDate(comment.create_at) }\n    >\n        {divider && <Divider style={ { margin: 0 } } />}\n    </Comment>\n)\n\nconst CommentList = ({ comments, loading }) => {\n    return (\n        <Card loading={ loading } bordered={ false } style={ { marginTop: '20px' } }>\n            {!loading && <List\n                header={ `${ comments.length } 个回复` }\n                itemLayout=\"horizontal\"\n                dataSource={ comments }\n                renderItem={ (comment, index) => <CommentItem comment={ comment } divider={ index < comments.length-1 } /> }\n            ></List>}\n        </Card>\n    )\n}\n\nexport default CommentList\n","import React, { Component } from 'react'\n\nimport { inject, observer } from 'mobx-react'\n\nimport Topic from 'components/Topic'\nimport CommentList from 'components/CommentList'\nimport RightBox from 'components/RightBox'\n\nimport { Row, Col } from 'antd'\n\n@inject('topic', 'user')\n@observer\nclass TopicPage extends Component {\n\n    componentDidMount() {\n        const { params } = this.props.match\n        this.props.topic.getTopic(params.id).then(topic => {\n            this.props.user.getUser(topic.author.loginname)\n        })\n    }\n\n    changeTab = (tab) => {\n        this.props.topic.setTab({ key: tab })\n        // this.props.topic.getTopics()\n        this.props.history.push('/')\n    }\n\n    render() {\n\n        // const { params } = this.props.match\n        const { topic, getTagName } = this.props.topic\n        const { user } = this.props\n        // console.log(params, topic, user)\n\n        return (\n            <Row gutter={ 16 }>\n                <Col sm={ 18 } xs={ 24 }>\n                    <Topic topic={ topic } getTagName={ getTagName } changeTab={ this.changeTab } />\n\n                    <CommentList comments={ topic ? topic.replies : [] } loading={ !topic }/>\n                </Col>\n                <Col sm={ 6 } xs={ 24 }>\n                    <RightBox user={ user } loading={ !user.user } />\n                </Col>\n            </Row>\n        )\n    }\n}\n\nexport default TopicPage\n","import React, { Component } from 'react'\n\nimport { inject, observer } from 'mobx-react'\n\nimport { withRouter, Link } from 'react-router-dom'\n\nimport RightBox from 'components/RightBox'\nimport { Row, Col, Card, Avatar, List } from 'antd'\n\nimport { formatDate } from '../../utils/common'\n\nconst { Meta } = Card\n\n@withRouter\n@inject('user', 'auth')\n@observer\nclass UserPage extends Component {\n\n    componentWillMount() {\n        const { loginname } = this.props.match.params\n        this.props.user.getUser(loginname)\n    }\n\n    render() {\n        const { user, auth } = this.props\n\n        const userInfos = user.user\n        console.log(userInfos)\n        return (\n            <div>\n                <Row gutter={ 16 }>\n                    <Col sm={ 18 } xs={ 24 }>\n                        \n                        {\n                            userInfos && \n                            <div>\n                                <Card title={ <Link to='/'>主页</Link> } className='mb-10'>\n                                    <Meta\n                                        avatar={ <Avatar src={ userInfos.avatar_url } /> }\n                                        title={ userInfos.loginname }\n                                        description={ <div>\n                                            <p>积分: {userInfos.score}</p>\n                                            <p>注册时间: {formatDate(userInfos.create_at)}</p>\n                                        </div> }\n                                    />\n                                </Card>\n\n                                <Card title='TA 的主题' className='mb-10'>\n                                    <List\n                                        itemLayout=\"horizontal\"\n                                        dataSource={ userInfos.recent_topics }\n                                        renderItem={ item => (\n                                            <List.Item>\n                                                <List.Item.Meta\n                                                    avatar={ <Avatar src={ item.author.avatar_url } /> }\n                                                    title={ <Link to={ `/topic/${ item.id }` }>{item.title}</Link> }\n                                                />\n                                            </List.Item>\n                                        ) }\n                                    />\n                                </Card>\n\n                                <Card title='TA 的回复' className='mb-10'>\n                                    <List\n                                        itemLayout=\"horizontal\"\n                                        dataSource={ userInfos.recent_replies }\n                                        renderItem={ item => (\n                                            <List.Item>\n                                                <List.Item.Meta\n                                                    avatar={ <Link to={ `/user/@${ item.author.loginname }` }><Avatar src={ item.author.avatar_url } /></Link> }\n                                                    title={ <Link to={ `/topic/${ item.id }` }>{item.title}</Link> }\n                                                />\n                                            </List.Item>\n                                        ) }\n                                    />\n                                </Card>\n                            </div>\n                        }\n                    </Col>\n                    <Col sm={ 6 } xs={ 24 }>\n                        <RightBox user={ user }  auth={ auth } loading={ !(auth.user || user.user) } />\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n\nexport default UserPage\n","import React, { Component } from 'react'\nimport { Switch, Route, withRouter, Redirect } from 'react-router-dom'\n\nimport { inject, observer } from 'mobx-react'\nimport Dev from 'mobx-react-devtools'\n\nimport Header from 'components/Header/index'\n\nimport Home from './views/Home'\nimport Topic from './views/Topic'\nimport User from './views/User'\n\nimport { Layout } from 'antd'\n\nconst { Content, Footer } = Layout\n\n@withRouter\n@inject('topic')\n@observer\nclass App extends Component {\n\n    render() {\n        console.log('App will render.')\n        return (\n            <Layout className=\"layout\">\n                <Header />\n                <Content className='layout-content'>\n                    <div style={ { minHeight: 280, marginTop: '10px' } }>\n                        <Switch>\n                            <Route path='/topic/:id' component={ Topic } />\n                            <Route path='/user/@:loginname' component={ User } />\n                            <Route path='/' component={ Home } strict />\n                            <Redirect path='*' to='/' />\n                        </Switch>\n                    </div>\n                </Content>\n                <Footer style={ { textAlign: 'center' } }>\n                    Ant Design ©2018 Created by Ant UED\n                </Footer>\n                {/* {process.env.NODE_ENV === 'development' && <Dev />} */}\n            </Layout>\n        )\n    }\n}\n\nexport default App\n","import axios from 'axios'\nimport authStore from './stores/authStore'\n\nconst BASE_API = 'https://cnodejs.org/api/v1'\n\nconst service = axios.create({\n    baseURL: BASE_API,\n    timeout: 5000\n    // withCredentials: true\n})\n\nservice.interceptors.request.use(\n    config => {\n        if (authStore.token) {\n            config.url += (config.url.indexOf('?') > -1 ? '&' : '?') + `accesstoken=${ authStore.token }`\n        }\n        return config\n    }, \n    error => {\n        Promise.reject(error)\n    }\n)\n\n// respone拦截器\nservice.interceptors.response.use(\n    response => {\n        return response.data\n    },\n    error => {\n        return Promise.reject(error)\n    }\n)\n\nconst responseBody = res => res.data\n\nconst request = {\n    get: (...args) => service.get(...args).then(responseBody),\n    post: (...args) => service.post(...args).then(responseBody),\n}\n\n// export default service\nconst Auth = {\n    verify: accesstoken => service.post('/accesstoken', { accesstoken })\n}\n\nconst Topic = {\n    list: (tab = '', page = 1, limit = 10) => request.get(`/topics?tab=${ tab }&page=${ page }&limit=${ limit }`),\n    detail: topicId => request.get(`/topic/${ topicId }`),\n    create: newTopic => request.post('/topics', newTopic)\n}\n\nconst User = {\n    info: loginname => request.get(`/user/${ loginname }`),\n    messagecount: () => request.get('/message/count'),\n    messages: () => request.get('/messages')\n}\n\nexport default {\n    User,\n    Auth,\n    Topic\n}\n","import { observable, action } from 'mobx'\nimport Agent from '../request'\n\nexport const TOKEN_CONST = 'REACT-MOBX-CNODE-TOKEN'\n\nclass AuthStore {\n    @observable token = ''\n    @observable user = null\n    @observable error = undefined\n\n    @action getUser(loginname) {\n        Agent.User.info(loginname).then(user => {\n            this.user = user\n        })\n    }\n\n    @action setToken(token) {\n        this.token = token\n    }\n\n    @action unsetToken() {\n        this.token = ''\n    }\n\n    @action login(token) {\n        return Agent.Auth.verify(token).then(res => {\n            this.setToken(token)\n            this.getUser(res.loginname)\n        })\n    }\n}\n\nexport default new AuthStore()\n","import { observable, action } from 'mobx'\nimport Agent from '../request'\n\nconst tabs = [ {\n    name: '全部',\n    key: 'all'\n},{\n    name: '精华',\n    key: 'good'\n}, {\n    name: '分享',\n    key: 'share'\n}, {\n    name: '问答',\n    key: 'ask'\n}, {\n    name: '招聘',\n    key: 'job'\n} ]\n\n// console.log(process.env.NODE_ENV)\nif (process.env.NODE_ENV === 'development') {\n    tabs.push({\n        name: '测试',\n        key: 'dev'\n    })\n}\n\nclass TopicStore {\n    @observable topics = []\n    @observable tabs = tabs\n\n    @observable loading = false\n\n    @observable page = 1\n    @observable limit = 15\n    @observable tab = 'all'\n\n    @observable topic = null\n\n    @action getTopics() {\n        this.loading = true\n        return Agent.Topic.list(this.tab, this.page, this.limit).then(res => {\n            console.log(res)\n            this.topics = res\n            this.loading = false\n        })\n    }\n\n    @action getTagName(tagkey) {\n        const tag = tabs.find(one => one.key === tagkey)\n        return tag ? tag.name : '全部'\n    }\n\n    @action setTab(tab) {\n        this.tab = tab.key\n    }\n\n    @action setPage(step = 1) {\n        console.log(this.page, step)\n        if (this.page === 1 && step === -1) return false\n        this.page += step\n        this.getTopics()\n    }\n\n    @action getTopic(id) {\n        if (!this.topic || this.topic.id !== id) {\n            this.topic = null\n            return Agent.Topic.detail(id).then(res => {\n                this.topic = res\n                return res\n            })\n        }\n        return Promise.resolve(this.topic)\n    }\n}\n\nexport default new TopicStore()\n","import auth from './authStore'\nimport topic from './topicStore'\nimport user from './userStore'\n\nexport default {\n    user,\n    auth,\n    topic\n}\n","import { observable, action } from 'mobx'\nimport Agent from '../request'\n\nclass UserStore {\n    @observable user = null\n    @observable loginuser = null\n    @observable error = undefined\n\n    @action getUser(loginname) {\n        if (this.user && this.user.loginname === loginname) return true\n        Agent.User.info(loginname).then(user => {\n            this.user = user\n        })\n    }\n}\n\nexport default new UserStore()\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\n\nimport { Provider } from 'mobx-react'\n\nimport App from './App'\n\nimport './styles/styles.scss'\nimport 'antd/dist/antd.css'\n\nimport stores from './stores'\nimport { TOKEN_CONST } from './stores/authStore'\n\nconst render = () => {\n    const rootElement = document.getElementById('root')\n    ReactDOM.render((\n        <Provider { ...stores }>\n            <HashRouter>\n                <App />\n            </HashRouter>\n        </Provider>\n    ), rootElement)\n}\n\nconst token = window.localStorage.getItem(TOKEN_CONST)\nif (token) {\n    stores.auth.login(token).then(render)\n} else {\n    render()\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home-page\":\"Home_home-page__1fRo8\",\"tabbars\":\"Home_tabbars__2RvG4\",\"tabbar-item\":\"Home_tabbar-item__3Np6g\",\"is-active\":\"Home_is-active__3GY7L\",\"topic-list\":\"Home_topic-list__3U7mj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__yZGBO\",\"header-left\":\"header_header-left__3g_85\",\"header-right\":\"header_header-right__3_1tg\",\"logo\":\"header_logo__3TtH7\",\"header-link\":\"header_header-link__1XbKp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Pagination\":\"Pagination_Pagination__8Hpol\",\"page-button\":\"Pagination_page-button__3bpmN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic\":\"topic_topic__2nmak\",\"topic-title\":\"topic_topic-title__1IjvD\",\"topic-infos\":\"topic_topic-infos__KeyLC\"};"],"sourceRoot":""}